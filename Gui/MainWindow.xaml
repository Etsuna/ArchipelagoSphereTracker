<Window x:Class="AST.GUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="AST-GUI" Height="720" Width="1080" WindowStartupLocation="CenterScreen">
    <DockPanel>
        <!-- Top bar -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="8">
            <TextBlock Text="Mode:" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <ComboBox x:Name="ModeBox" Width="180" SelectedIndex="0" Margin="0,0,8,0">
                <ComboBoxItem Content="--NormalMode"/>
                <ComboBoxItem Content="--ArchipelagoMode"/>
            </ComboBox>
            <Button x:Name="StartBtn" Content="Démarrer" Width="100" Margin="0,0,8,0" Click="StartBtn_Click"/>
            <Button x:Name="StopBtn" Content="Arrêter" Width="100" Margin="0,0,8,0" Click="StopBtn_Click" IsEnabled="False"/>
            <TextBlock Text="Statut:" VerticalAlignment="Center" Margin="16,0,8,0"/>
            <TextBlock x:Name="StatusText" VerticalAlignment="Center" FontWeight="Bold" Text="Inactif"/>
            <Separator Width="24" RenderTransformOrigin="1.567,0.559" Margin="8,2,0,2"/>
            <TextBlock x:Name="Binary" Text="Binaire:" VerticalAlignment="Center" Margin="8,0,8,0"/>
            <TextBox x:Name="ExePathBox" Width="341" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <Button x:Name="BrowseExe" Content="Parcourir..." Click="Browse_Click"/>
        </StackPanel>

        <TabControl>
            <!-- LOGS -->
            <TabItem x:Name="TabItemLogs" Header="Logs">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
                        <TextBox x:Name="LogBox" FontFamily="Consolas" FontSize="12" IsReadOnly="True" AcceptsReturn="True" TextWrapping="Wrap"/>
                    </ScrollViewer>
                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="8">
                        <Button x:Name="ClearLogs" Content="Effacer" Click="ClearLog_Click"/>
                        <TextBlock Text="  |  "/>
                        <CheckBox x:Name="AutoScrollCheck" IsChecked="True" Content="Défilement auto"/>
                    </StackPanel>
                </Grid>
            </TabItem>

            <!-- DB Explorer -->
            <TabItem x:Name="TabItemBdd" Header="Base de données" Height="20" VerticalAlignment="Top">
                <!-- Grille maître: barre du haut + moitié haute (3 listes) + moitié basse (onglets) -->
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <!-- barre fichier DB -->
                        <RowDefinition Height="131*"/>
                        <!-- moitié haute: 3 listes -->
                        <RowDefinition Height="471*"/>
                        <!-- moitié basse: onglets -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Barre fichier DB -->
                    <StackPanel Grid.Row="0" Grid.ColumnSpan="3" Orientation="Horizontal" Margin="8,8,8,8">
                        <TextBlock x:Name="DbFile" Text="Fichier DB:" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <TextBox x:Name="DbPathBox" Width="480" Margin="0,0,8,0"/>
                        <Button x:Name="BrowseDbFile" Content="Parcourir..." Click="BrowseDb_Click" Margin="0,0,16,0"/>
                        <Button x:Name="ReloadDb" Content="Recharger" Click="ReloadDb_Click"/>
                    </StackPanel>

                    <!-- Moitié haute: 3 listes côte à côte -->
                    <Grid Grid.Row="1" Grid.Column="0" Margin="8,8,8,8">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="Guilds" FontWeight="Bold" Margin="0,0,0,4"/>
                        <ListBox Grid.Row="1"
                     x:Name="GuildList"
                     SelectionChanged="GuildList_SelectionChanged"/>
                    </Grid>

                    <Grid Grid.Row="1" Grid.Column="1" Margin="8,8,8,8">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="Threads" FontWeight="Bold" Margin="0,0,0,4"/>
                        <ListBox Grid.Row="1"
                     x:Name="ChannelList"
                     SelectionChanged="ChannelList_SelectionChanged"/>
                    </Grid>

                    <!-- Moitié basse: onglets sur toute la largeur -->
                    <TabControl Grid.Row="2" Grid.ColumnSpan="3" Margin="8,8,8,8">
                        <TabItem Header="ChannelsAndUrls">
                            <DataGrid x:Name="GridChannels" IsReadOnly="True" AutoGenerateColumns="True"/>
                        </TabItem>
                        <TabItem Header="DisplayedItem">
                            <DataGrid x:Name="GridDisplayedItem" IsReadOnly="True" AutoGenerateColumns="True"/>
                        </TabItem>
                        <TabItem Header="Alias">
                            <DataGrid x:Name="GridAlias" IsReadOnly="True" AutoGenerateColumns="True"/>
                        </TabItem>
                    </TabControl>
                </Grid>
            </TabItem>

            <!-- Advanced SQL -->
        </TabControl>
    </DockPanel>
</Window>
